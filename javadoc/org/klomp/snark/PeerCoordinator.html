<!DOCTYPE HTML>
<html lang="en">
<head>
<title>PeerCoordinator - Javadocs [I2P+ 0.9.50]</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.klomp.snark, class: PeerCoordinator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>

<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>

<script type="text/javascript" src="../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":9,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":9,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<style type="text/css">.script{display:none!important}</style>

</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<div class="topNav"><a id="navbar.top">
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PeerCoordinator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch script"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<div class="skipNav"><a id="skip.navbar.top">
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.klomp.snark</a></div>
<h1 title="Class PeerCoordinator" class="title">Class PeerCoordinator</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance">org.klomp.snark.PeerCoordinator</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
</dl>
<hr>
<pre>class <span class="typeNameLabel">PeerCoordinator</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></pre>
<div class="block">Coordinates what peer does what.</div>
</section>
<section class="summary">
<ul class="blockList">
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>(package private) static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CHECK_PERIOD">CHECK_PERIOD</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MAX_INACTIVE">MAX_INACTIVE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MAX_SEED_INACTIVE">MAX_SEED_INACTIVE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MAX_UPLOADERS">MAX_UPLOADERS</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#metainfo">metainfo</a></span></code></th>
<td class="colLast">
<div class="block">External use by PeerMonitorTask only.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html?is-external=true" title="class or interface in java.util" class="externalLink">Deque</a>&lt;<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#peers">peers</a></span></code></th>
<td class="colLast">
<div class="block">synchronize on this when changing peers or downloaders.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#RATE_DEPTH">RATE_DEPTH</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="Storage.html" title="class in org.klomp.snark">Storage</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storage">storage</a></span></code></th>
<td class="colLast">
<div class="block">External use by PeerMonitorTask only.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.klomp.snark.I2PSnarkUtil,byte%5B%5D,byte%5B%5D,org.klomp.snark.MetaInfo,org.klomp.snark.Storage,org.klomp.snark.CoordinatorListener,org.klomp.snark.Snark)">PeerCoordinator</a></span>&#8203;(<a href="I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a>&nbsp;util,
byte[]&nbsp;id,
byte[]&nbsp;infohash,
<a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a>&nbsp;metainfo,
<a href="Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;storage,
<a href="CoordinatorListener.html" title="interface in org.klomp.snark">CoordinatorListener</a>&nbsp;listener,
<a href="Snark.html" title="class in org.klomp.snark">Snark</a>&nbsp;torrent)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div class="script" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addInterestedAndChoking(int)">addInterestedAndChoking</a></span>&#8203;(int&nbsp;toAdd)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addPeer(org.klomp.snark.Peer)">addPeer</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></th>
<td class="colLast">
<div class="block">Add peer (inbound or outbound)</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allowedUploaders()">allowedUploaders</a></span>()</code></th>
<td class="colLast">
<div class="block">Return number of allowed uploaders for this torrent.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#banWebPeer(java.lang.String,boolean)">banWebPeer</a></span>&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;host,
boolean&nbsp;isPermanent)</code></th>
<td class="colLast">
<div class="block">Ban a web peer for this torrent, for while or permanently.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#completed()">completed</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#connected(org.klomp.snark.Peer)">connected</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></th>
<td class="colLast">
<div class="block">Called when the connection to the peer has started and the
 handshake was successfull.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#decrementUploaders(boolean)">decrementUploaders</a></span>&#8203;(boolean&nbsp;isInterested)</code></th>
<td class="colLast">
<div class="block">Decrement the uploaders and (if set) the interestedUploaders counts</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#disconnected(org.klomp.snark.Peer)">disconnected</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></th>
<td class="colLast">
<div class="block">Called when the connection to the peer was terminated or the
 connection handshake failed.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#downloaded(org.klomp.snark.Peer,int)">downloaded</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;size)</code></th>
<td class="colLast">
<div class="block">Called when a peer has downloaded some bytes of a piece.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCurrentUploadRate()">getCurrentUploadRate</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the rate in Bps
 over last complete CHECK_PERIOD seconds</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDownloaded()">getDownloaded</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the total number of downloaded bytes of all peers.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDownloadRate()">getDownloadRate</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getID()">getID</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInfoHash()">getInfoHash</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInterestedAndChoking()">getInterestedAndChoking</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInterestedUploaders()">getInterestedUploaders</a></span>()</code></th>
<td class="colLast">
<div class="block">Uploaders, interested only.</div>
</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLeft()">getLeft</a></span>()</code></th>
<td class="colLast">
<div class="block">Bytes not yet in storage.</div>
</td>
</tr>
<tr class="rowColor" id="i17">
<td class="colFirst"><code><a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMetaInfo()">getMetaInfo</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i18">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getName()">getName</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i19">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNeededLength()">getNeededLength</a></span>()</code></th>
<td class="colLast">
<div class="block">Bytes still wanted.</div>
</td>
</tr>
<tr class="altColor" id="i20">
<td class="colFirst"><code><a href="PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPartialPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">getPartialPiece</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</code></th>
<td class="colLast">
<div class="block">Return partial piece to the PeerState if it's still wanted and peer has it.</div>
</td>
</tr>
<tr class="rowColor" id="i21">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPeerCount()">getPeerCount</a></span>()</code></th>
<td class="colLast">
<div class="block">might be wrong</div>
</td>
</tr>
<tr class="altColor" id="i22">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPeers()">getPeers</a></span>()</code></th>
<td class="colLast">
<div class="block">should be right</div>
</td>
</tr>
<tr class="rowColor" id="i23">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPEXPeers()">getPEXPeers</a></span>()</code></th>
<td class="colLast">
<div class="block">Called by TrackerClient</div>
</td>
</tr>
<tr class="altColor" id="i24">
<td class="colFirst"><code>(package private) static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRate(long%5B%5D)">getRate</a></span>&#8203;(long[]&nbsp;array)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i25">
<td class="colFirst"><code><a href="Storage.html" title="class in org.klomp.snark">Storage</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStorage()">getStorage</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i26">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUploaded()">getUploaded</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the total number of uploaded bytes of all peers.</div>
</td>
</tr>
<tr class="rowColor" id="i27">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUploaders()">getUploaders</a></span>()</code></th>
<td class="colLast">
<div class="block">Uploaders whether interested or not
  Use this for per-torrent limits.</div>
</td>
</tr>
<tr class="altColor" id="i28">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUploadRate()">getUploadRate</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</td>
</tr>
<tr class="rowColor" id="i29">
<td class="colFirst"><code><a href="I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUtil()">getUtil</a></span>()</code></th>
<td class="colLast">
<div class="block">Convenience</div>
</td>
</tr>
<tr class="altColor" id="i30">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotBitField(org.klomp.snark.Peer,org.klomp.snark.BitField)">gotBitField</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;bitfield)</code></th>
<td class="colLast">
<div class="block">Returns true if the given bitfield contains at least one piece we
 are interested in.</div>
</td>
</tr>
<tr class="rowColor" id="i31">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotChoke(org.klomp.snark.Peer,boolean)">gotChoke</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
boolean&nbsp;choke)</code></th>
<td class="colLast">
<div class="block">this does nothing but logging</div>
</td>
</tr>
<tr class="altColor" id="i32">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotCommentReq(org.klomp.snark.Peer,int)">gotCommentReq</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;num)</code></th>
<td class="colLast">
<div class="block">Called when comments are requested via ut_comment</div>
</td>
</tr>
<tr class="rowColor" id="i33">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotComments(org.klomp.snark.Peer,java.util.List)">gotComments</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="comments/Comment.html" title="class in org.klomp.snark.comments">Comment</a>&gt;&nbsp;comments)</code></th>
<td class="colLast">
<div class="block">Called when comments are received via ut_comment</div>
</td>
</tr>
<tr class="altColor" id="i34">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotExtension(org.klomp.snark.Peer,int,byte%5B%5D)">gotExtension</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;id,
byte[]&nbsp;bs)</code></th>
<td class="colLast">
<div class="block">PeerListener callback</div>
</td>
</tr>
<tr class="rowColor" id="i35">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotHave(org.klomp.snark.Peer,int)">gotHave</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;piece)</code></th>
<td class="colLast">
<div class="block">Called when a have piece message is received.</div>
</td>
</tr>
<tr class="altColor" id="i36">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotInterest(org.klomp.snark.Peer,boolean)">gotInterest</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
boolean&nbsp;interest)</code></th>
<td class="colLast">
<div class="block">Called when an interested message is received.</div>
</td>
</tr>
<tr class="rowColor" id="i37">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotPeers(org.klomp.snark.Peer,java.util.List)">gotPeers</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;&nbsp;peers)</code></th>
<td class="colLast">
<div class="block">Get peers from PEX -
  PeerListener callback</div>
</td>
</tr>
<tr class="altColor" id="i38">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotPiece(org.klomp.snark.Peer,org.klomp.snark.PartialPiece)">gotPiece</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a>&nbsp;pp)</code></th>
<td class="colLast">
<div class="block">Returns false if the piece is no good (according to the hash).</div>
</td>
</tr>
<tr class="rowColor" id="i39">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotPort(org.klomp.snark.Peer,int,int)">gotPort</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;port,
int&nbsp;rport)</code></th>
<td class="colLast">
<div class="block">PeerListener callback
  Tell the DHT to ping it, this will get back the node info</div>
</td>
</tr>
<tr class="altColor" id="i40">
<td class="colFirst"><code><a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotRequest(org.klomp.snark.Peer,int,int,int)">gotRequest</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;piece,
int&nbsp;off,
int&nbsp;len)</code></th>
<td class="colLast">
<div class="block">Returns a byte array containing the requested piece or null of
 the piece is unknown.</div>
</td>
</tr>
<tr class="rowColor" id="i41">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#halt()">halt</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i42">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#halted()">halted</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i43">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isWebPeerBanned(java.lang.String)">isWebPeerBanned</a></span>&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;host)</code></th>
<td class="colLast">
<div class="block">Is a web peer banned?</div>
</td>
</tr>
<tr class="altColor" id="i44">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#needOutboundPeers()">needOutboundPeers</a></span>()</code></th>
<td class="colLast">
<div class="block">Outbound.</div>
</td>
</tr>
<tr class="rowColor" id="i45">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#needPeers()">needPeers</a></span>()</code></th>
<td class="colLast">
<div class="block">Inbound.</div>
</td>
</tr>
<tr class="altColor" id="i46">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#needPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">needPiece</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</code></th>
<td class="colLast">
<div class="block">Called when we are downloading from the peer and may need to ask for
 a new piece.</div>
</td>
</tr>
<tr class="rowColor" id="i47">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#overUpBWLimit()">overUpBWLimit</a></span>()</code></th>
<td class="colLast">
<div class="block">Is snark as a whole over its limit?</div>
</td>
</tr>
<tr class="altColor" id="i48">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#overUpBWLimit(long)">overUpBWLimit</a></span>&#8203;(long&nbsp;total)</code></th>
<td class="colLast">
<div class="block">Is a particular peer who has downloaded this many bytes from us
  in the last CHECK_PERIOD over its limit?</div>
</td>
</tr>
<tr class="rowColor" id="i49">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#peerList()">peerList</a></span>()</code></th>
<td class="colLast">
<div class="block">for web page detailed stats</div>
</td>
</tr>
<tr class="altColor" id="i50">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#restart()">restart</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i51">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#savePartialPieces(org.klomp.snark.Peer,java.util.List)">savePartialPieces</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="Request.html" title="class in org.klomp.snark">Request</a>&gt;&nbsp;partials)</code></th>
<td class="colLast">
<div class="block">Save partial pieces on peer disconnection
  and hopefully restart it later.</div>
</td>
</tr>
<tr class="altColor" id="i52">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendCommentReq(org.klomp.snark.Peer)">sendCommentReq</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></th>
<td class="colLast">
<div class="block">Send a commment request message to the peer, if he supports it.</div>
</td>
</tr>
<tr class="rowColor" id="i53">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendDHT(org.klomp.snark.Peer)">sendDHT</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></th>
<td class="colLast">
<div class="block">Send a DHT message to the peer, if we both support DHT.</div>
</td>
</tr>
<tr class="altColor" id="i54">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendPeers(org.klomp.snark.Peer)">sendPeers</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></th>
<td class="colLast">
<div class="block">Send a PEX message to the peer, if he supports PEX.</div>
</td>
</tr>
<tr class="rowColor" id="i55">
<td class="colFirst"><code>(package private) static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRate(long,long%5B%5D)">setRate</a></span>&#8203;(long&nbsp;val,
long[]&nbsp;array)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i56">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRateHistory(long,long)">setRateHistory</a></span>&#8203;(long&nbsp;up,
long&nbsp;down)</code></th>
<td class="colLast">
<div class="block">Push the total uploaded/downloaded onto a RATE_DEPTH deep stack</div>
</td>
</tr>
<tr class="rowColor" id="i57">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setStorage(org.klomp.snark.Storage)">setStorage</a></span>&#8203;(<a href="Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;stg)</code></th>
<td class="colLast">
<div class="block">Sets the storage after transition out of magnet mode
  Snark calls this after we call gotMetaInfo()</div>
</td>
</tr>
<tr class="altColor" id="i58">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUploaded(long)">setUploaded</a></span>&#8203;(long&nbsp;up)</code></th>
<td class="colLast">
<div class="block">Sets the initial total of uploaded bytes of all peers (from a saved status)</div>
</td>
</tr>
<tr class="rowColor" id="i59">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUploaders(int,int)">setUploaders</a></span>&#8203;(int&nbsp;upl,
int&nbsp;inter)</code></th>
<td class="colLast">
<div class="block">Set the uploaders and interestedUploaders counts</div>
</td>
</tr>
<tr class="altColor" id="i60">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setWantedPieces()">setWantedPieces</a></span>()</code></th>
<td class="colLast">
<div class="block">Only called externally from Storage after the double-check fails.</div>
</td>
</tr>
<tr class="rowColor" id="i61">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unchokePeer()">unchokePeer</a></span>()</code></th>
<td class="colLast">
<div class="block">(Optimistically) unchoke.</div>
</td>
</tr>
<tr class="altColor" id="i62">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updatePiecePriorities()">updatePiecePriorities</a></span>()</code></th>
<td class="colLast">
<div class="block">Maps file priorities to piece priorities.</div>
</td>
</tr>
<tr class="rowColor" id="i63">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#uploaded(org.klomp.snark.Peer,int)">uploaded</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;size)</code></th>
<td class="colLast">
<div class="block">Called when a peer has uploaded some bytes of a piece.</div>
</td>
</tr>
<tr class="altColor" id="i64">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#wantPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">wantPiece</a></span>&#8203;(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</code></th>
<td class="colLast">
<div class="block">Returns one of pieces in the given BitField that is still wanted or
 -1 if none of the given pieces are wanted.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
</a><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="metainfo">metainfo</a></h3>
<div class="memberSignature"><span class="returnType"><a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a></span>&nbsp;<span class="memberName">metainfo</span></div>
<div class="block">External use by PeerMonitorTask only.
 Will be null when in magnet mode.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="storage">storage</a></h3>
<div class="memberSignature"><span class="returnType"><a href="Storage.html" title="class in org.klomp.snark">Storage</a></span>&nbsp;<span class="memberName">storage</span></div>
<div class="block">External use by PeerMonitorTask only.
 Will be null when in magnet mode.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="CHECK_PERIOD">CHECK_PERIOD</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">CHECK_PERIOD</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.CHECK_PERIOD">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="MAX_UPLOADERS">MAX_UPLOADERS</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">MAX_UPLOADERS</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.MAX_UPLOADERS">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="MAX_INACTIVE">MAX_INACTIVE</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">MAX_INACTIVE</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.MAX_INACTIVE">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="MAX_SEED_INACTIVE">MAX_SEED_INACTIVE</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">MAX_SEED_INACTIVE</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.MAX_SEED_INACTIVE">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="RATE_DEPTH">RATE_DEPTH</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">RATE_DEPTH</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.RATE_DEPTH">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="peers">peers</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType"><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html?is-external=true" title="class or interface in java.util" class="externalLink">Deque</a>&lt;<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&gt;</span>&nbsp;<span class="memberName">peers</span></div>
<div class="block">synchronize on this when changing peers or downloaders.
 This is a Queue, not a Set, because PeerCheckerTask keeps things in order for choking/unchoking.
 External use by PeerMonitorTask only.</div>
</section>
</li>
</ul>
</section>
</li>
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(org.klomp.snark.I2PSnarkUtil,byte[],byte[],org.klomp.snark.MetaInfo,org.klomp.snark.Storage,org.klomp.snark.CoordinatorListener,org.klomp.snark.Snark)">PeerCoordinator</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">PeerCoordinator</span>&#8203;(<span class="arguments"><a href="I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a>&nbsp;util,
byte[]&nbsp;id,
byte[]&nbsp;infohash,
<a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a>&nbsp;metainfo,
<a href="Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;storage,
<a href="CoordinatorListener.html" title="interface in org.klomp.snark">CoordinatorListener</a>&nbsp;listener,
<a href="Snark.html" title="class in org.klomp.snark">Snark</a>&nbsp;torrent)</span></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metainfo</code> - null if in magnet mode</dd>
<dd><code>storage</code> - null if in magnet mode</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="setWantedPieces()">setWantedPieces</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setWantedPieces</span>()</div>
<div class="block">Only called externally from Storage after the double-check fails.
 Sets wantedBytes too.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getStorage()">getStorage</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="Storage.html" title="class in org.klomp.snark">Storage</a></span>&nbsp;<span class="memberName">getStorage</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="peerList()">peerList</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&gt;</span>&nbsp;<span class="memberName">peerList</span>()</div>
<div class="block">for web page detailed stats</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getID()">getID</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">getID</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getName()">getName</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></span>&nbsp;<span class="memberName">getName</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="completed()">completed</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">completed</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getPeerCount()">getPeerCount</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getPeerCount</span>()</div>
<div class="block">might be wrong</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getPeers()">getPeers</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getPeers</span>()</div>
<div class="block">should be right</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getLeft()">getLeft</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getLeft</span>()</div>
<div class="block">Bytes not yet in storage. Does NOT account for skipped files.
  Not exact (does not adjust for last piece size).
 Returns how many bytes are still needed to get the complete torrent.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>-1 if in magnet mode</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getNeededLength()">getNeededLength</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getNeededLength</span>()</div>
<div class="block">Bytes still wanted. DOES account for skipped files.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>exact value. or -1 if no storage yet.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.1</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getUploaded()">getUploaded</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getUploaded</span>()</div>
<div class="block">Returns the total number of uploaded bytes of all peers.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setUploaded(long)">setUploaded</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setUploaded</span>&#8203;(<span class="arguments">long&nbsp;up)</span></div>
<div class="block">Sets the initial total of uploaded bytes of all peers (from a saved status)</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.15</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getDownloaded()">getDownloaded</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getDownloaded</span>()</div>
<div class="block">Returns the total number of downloaded bytes of all peers.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setRateHistory(long,long)">setRateHistory</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setRateHistory</span>&#8203;(<span class="arguments">long&nbsp;up,
long&nbsp;down)</span></div>
<div class="block">Push the total uploaded/downloaded onto a RATE_DEPTH deep stack</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setRate(long,long[])">setRate</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setRate</span>&#8203;(<span class="arguments">long&nbsp;val,
long[]&nbsp;array)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getDownloadRate()">getDownloadRate</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getDownloadRate</span>()</div>
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getUploadRate()">getUploadRate</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getUploadRate</span>()</div>
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getCurrentUploadRate()">getCurrentUploadRate</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getCurrentUploadRate</span>()</div>
<div class="block">Returns the rate in Bps
 over last complete CHECK_PERIOD seconds</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getRate(long[])">getRate</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getRate</span>&#8203;(<span class="arguments">long[]&nbsp;array)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getMetaInfo()">getMetaInfo</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a></span>&nbsp;<span class="memberName">getMetaInfo</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getInfoHash()">getInfoHash</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">getInfoHash</span>()</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="needPeers()">needPeers</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">needPeers</span>()</div>
<div class="block">Inbound.
  Not halted, peers &lt; max.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.1</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="needOutboundPeers()">needOutboundPeers</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">needOutboundPeers</span>()</div>
<div class="block">Outbound.
  Not halted, peers &lt; max, and need pieces.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.1</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="halted()">halted</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">halted</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="halt()">halt</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">halt</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="restart()">restart</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">restart</span>()</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.1</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="connected(org.klomp.snark.Peer)">connected</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">connected</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="PeerListener.html#connected(org.klomp.snark.Peer)">PeerListener</a></code></span></div>
<div class="block">Called when the connection to the peer has started and the
 handshake was successfull.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#connected(org.klomp.snark.Peer)">connected</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that just got connected.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addPeer(org.klomp.snark.Peer)">addPeer</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">addPeer</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block">Add peer (inbound or outbound)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if actual attempt to add peer occurs</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="unchokePeer()">unchokePeer</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">unchokePeer</span>()</div>
<div class="block">(Optimistically) unchoke. Must be called with peers synchronized</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotHave(org.klomp.snark.Peer,int)">gotHave</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">gotHave</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;piece)</span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="PeerListener.html#gotHave(org.klomp.snark.Peer,int)">PeerListener</a></code></span></div>
<div class="block">Called when a have piece message is received. If the method
 returns true and the peer has not yet received a interested
 message or we indicated earlier to be not interested then an
 interested message will be send.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotHave(org.klomp.snark.Peer,int)">gotHave</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>piece</code> - the piece number that the per just got.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if we still want the given piece</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotBitField(org.klomp.snark.Peer,org.klomp.snark.BitField)">gotBitField</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">gotBitField</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;bitfield)</span></div>
<div class="block">Returns true if the given bitfield contains at least one piece we
 are interested in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotBitField(org.klomp.snark.Peer,org.klomp.snark.BitField)">gotBitField</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>bitfield</code> - a BitField containing the pieces that the other
 side has.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true when the BitField contains pieces we want, false if
 the piece is already known.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="wantPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">wantPiece</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">wantPiece</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</span></div>
<div class="block">Returns one of pieces in the given BitField that is still wanted or
 -1 if none of the given pieces are wanted.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#wantPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">wantPiece</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that will be asked to provide the piece.</dd>
<dd><code>havePieces</code> - a BitField containing the pieces that the other
 side has.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>one of the pieces from the bitfield that we want or -1 if
 we are no longer interested in the peer.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="updatePiecePriorities()">updatePiecePriorities</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">updatePiecePriorities</span>()</div>
<div class="block">Maps file priorities to piece priorities.
  Call after updating file priorities Storage.setPriority()</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.1</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotRequest(org.klomp.snark.Peer,int,int,int)">gotRequest</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a></span>&nbsp;<span class="memberName">gotRequest</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;piece,
int&nbsp;off,
int&nbsp;len)</span></div>
<div class="block">Returns a byte array containing the requested piece or null of
 the piece is unknown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotRequest(org.klomp.snark.Peer,int,int,int)">gotRequest</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that wants the piece.</dd>
<dd><code>piece</code> - the piece number requested.</dd>
<dd><code>off</code> - byte offset into the piece.</dd>
<dd><code>len</code> - length of the chunk requested.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>bytes or null for errors such as not having the piece yet</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang" class="externalLink">RuntimeException</a></code> - on IOE getting the data</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="uploaded(org.klomp.snark.Peer,int)">uploaded</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">uploaded</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;size)</span></div>
<div class="block">Called when a peer has uploaded some bytes of a piece.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#uploaded(org.klomp.snark.Peer,int)">uploaded</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer to which size bytes where uploaded.</dd>
<dd><code>size</code> - the number of bytes that where uploaded.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="downloaded(org.klomp.snark.Peer,int)">downloaded</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">downloaded</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;size)</span></div>
<div class="block">Called when a peer has downloaded some bytes of a piece.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#downloaded(org.klomp.snark.Peer,int)">downloaded</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer from which size bytes where downloaded.</dd>
<dd><code>size</code> - the number of bytes that where downloaded.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotPiece(org.klomp.snark.Peer,org.klomp.snark.PartialPiece)">gotPiece</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">gotPiece</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a>&nbsp;pp)</span></div>
<div class="block">Returns false if the piece is no good (according to the hash).
 In that case the peer that supplied the piece should probably be
 blacklisted.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotPiece(org.klomp.snark.Peer,org.klomp.snark.PartialPiece)">gotPiece</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the piece.</dd>
<dd><code>pp</code> - the piece received.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true when the bytes represent the piece, false otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang" class="externalLink">RuntimeException</a></code> - on IOE saving the piece</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotChoke(org.klomp.snark.Peer,boolean)">gotChoke</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">gotChoke</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
boolean&nbsp;choke)</span></div>
<div class="block">this does nothing but logging</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotChoke(org.klomp.snark.Peer,boolean)">gotChoke</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>choke</code> - true when the peer got a choke message, false when
 the peer got an unchoke message.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotInterest(org.klomp.snark.Peer,boolean)">gotInterest</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">gotInterest</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
boolean&nbsp;interest)</span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="PeerListener.html#gotInterest(org.klomp.snark.Peer,boolean)">PeerListener</a></code></span></div>
<div class="block">Called when an interested message is received.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotInterest(org.klomp.snark.Peer,boolean)">gotInterest</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>interest</code> - true when the peer got a interested message, false when
 the peer got an uninterested message.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="disconnected(org.klomp.snark.Peer)">disconnected</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">disconnected</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="PeerListener.html#disconnected(org.klomp.snark.Peer)">PeerListener</a></code></span></div>
<div class="block">Called when the connection to the peer was terminated or the
 connection handshake failed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#disconnected(org.klomp.snark.Peer)">disconnected</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that just got disconnected.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="savePartialPieces(org.klomp.snark.Peer,java.util.List)">savePartialPieces</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">savePartialPieces</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="Request.html" title="class in org.klomp.snark">Request</a>&gt;&nbsp;partials)</span></div>
<div class="block">Save partial pieces on peer disconnection
  and hopefully restart it later.
  Replace a partial piece in the List if the new one is bigger.
  Storage method is private so we can expand to save multiple partials
  if we wish.

  Also mark the piece unrequested if this peer was the only one.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#savePartialPieces(org.klomp.snark.Peer,java.util.List)">savePartialPieces</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - partials, must include the zero-offset (empty) ones too.
              No dup pieces, piece.setDownloaded() must be set.
              len field in Requests is ignored.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.2</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getPartialPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">getPartialPiece</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a></span>&nbsp;<span class="memberName">getPartialPiece</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</span></div>
<div class="block">Return partial piece to the PeerState if it's still wanted and peer has it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#getPartialPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">getPartialPiece</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>havePieces</code> - pieces the peer has, the rv will be one of these</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>PartialPiece or null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.2</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="needPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">needPiece</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">needPiece</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</span></div>
<div class="block">Called when we are downloading from the peer and may need to ask for
 a new piece. Returns true if wantPiece() or getPartialPiece() would return a piece.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#needPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">needPiece</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that will be asked to provide the piece.</dd>
<dd><code>havePieces</code> - a BitField containing the pieces that the other
 side has.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if we want any of what the peer has</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.2</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotExtension(org.klomp.snark.Peer,int,byte[])">gotExtension</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">gotExtension</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;id,
byte[]&nbsp;bs)</span></div>
<div class="block">PeerListener callback</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotExtension(org.klomp.snark.Peer,int,byte%5B%5D)">gotExtension</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>id</code> - the message ID</dd>
<dd><code>bs</code> - the message payload</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendPeers(org.klomp.snark.Peer)">sendPeers</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendPeers</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block">Send a PEX message to the peer, if he supports PEX.
  This just sends everybody we are connected to, we don't
  track new vs. old peers yet.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendDHT(org.klomp.snark.Peer)">sendDHT</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendDHT</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block">Send a DHT message to the peer, if we both support DHT.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>DHT</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendCommentReq(org.klomp.snark.Peer)">sendCommentReq</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendCommentReq</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block">Send a commment request message to the peer, if he supports it.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.31</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setStorage(org.klomp.snark.Storage)">setStorage</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setStorage</span>&#8203;(<span class="arguments"><a href="Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;stg)</span></div>
<div class="block">Sets the storage after transition out of magnet mode
  Snark calls this after we call gotMetaInfo()</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotPort(org.klomp.snark.Peer,int,int)">gotPort</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">gotPort</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;port,
int&nbsp;rport)</span></div>
<div class="block">PeerListener callback
  Tell the DHT to ping it, this will get back the node info</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotPort(org.klomp.snark.Peer,int,int)">gotPort</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rport</code> - must be port + 1</dd>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>port</code> - the query port</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotPeers(org.klomp.snark.Peer,java.util.List)">gotPeers</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">gotPeers</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;&nbsp;peers)</span></div>
<div class="block">Get peers from PEX -
  PeerListener callback</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotPeers(org.klomp.snark.Peer,java.util.List)">gotPeers</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>peers</code> - the peer IDs (dest hashes)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotCommentReq(org.klomp.snark.Peer,int)">gotCommentReq</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">gotCommentReq</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
int&nbsp;num)</span></div>
<div class="block">Called when comments are requested via ut_comment</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotCommentReq(org.klomp.snark.Peer,int)">gotCommentReq</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.31</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="gotComments(org.klomp.snark.Peer,java.util.List)">gotComments</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">gotComments</span>&#8203;(<span class="arguments"><a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="comments/Comment.html" title="class in org.klomp.snark.comments">Comment</a>&gt;&nbsp;comments)</span></div>
<div class="block">Called when comments are received via ut_comment</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#gotComments(org.klomp.snark.Peer,java.util.List)">gotComments</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>comments</code> - non-null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.31</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getPEXPeers()">getPEXPeers</a></h3>
<div class="memberSignature"><span class="returnType"><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;</span>&nbsp;<span class="memberName">getPEXPeers</span>()</div>
<div class="block">Called by TrackerClient</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Set itself, modifiable, not a copy, caller should clear()</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="allowedUploaders()">allowedUploaders</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">allowedUploaders</span>()</div>
<div class="block">Return number of allowed uploaders for this torrent.
 Check with Snark to see if we are over the total upload limit.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getUploaders()">getUploaders</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getUploaders</span>()</div>
<div class="block">Uploaders whether interested or not
  Use this for per-torrent limits.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getInterestedUploaders()">getInterestedUploaders</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getInterestedUploaders</span>()</div>
<div class="block">Uploaders, interested only.
  Use this to calculate the global total, so that
  unchoked but uninterested peers don't count against the global limit.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setUploaders(int,int)">setUploaders</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setUploaders</span>&#8203;(<span class="arguments">int&nbsp;upl,
int&nbsp;inter)</span></div>
<div class="block">Set the uploaders and interestedUploaders counts</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>upl</code> - whether interested or not</dd>
<dd><code>inter</code> - interested only</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="decrementUploaders(boolean)">decrementUploaders</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">decrementUploaders</span>&#8203;(<span class="arguments">boolean&nbsp;isInterested)</span></div>
<div class="block">Decrement the uploaders and (if set) the interestedUploaders counts</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getInterestedAndChoking()">getInterestedAndChoking</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getInterestedAndChoking</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addInterestedAndChoking(int)">addInterestedAndChoking</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">addInterestedAndChoking</span>&#8203;(<span class="arguments">int&nbsp;toAdd)</span></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="overUpBWLimit()">overUpBWLimit</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">overUpBWLimit</span>()</div>
<div class="block">Is snark as a whole over its limit?</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="overUpBWLimit(long)">overUpBWLimit</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">overUpBWLimit</span>&#8203;(<span class="arguments">long&nbsp;total)</span></div>
<div class="block">Is a particular peer who has downloaded this many bytes from us
  in the last CHECK_PERIOD over its limit?</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getUtil()">getUtil</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a></span>&nbsp;<span class="memberName">getUtil</span>()</div>
<div class="block">Convenience</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PeerListener.html#getUtil()">getUtil</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.2</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="banWebPeer(java.lang.String,boolean)">banWebPeer</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">banWebPeer</span>&#8203;(<span class="arguments"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;host,
boolean&nbsp;isPermanent)</span></div>
<div class="block">Ban a web peer for this torrent, for while or permanently.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>host</code> - the host name</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.49</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isWebPeerBanned(java.lang.String)">isWebPeerBanned</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isWebPeerBanned</span>&#8203;(<span class="arguments"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;host)</span></div>
<div class="block">Is a web peer banned?</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>host</code> - the host name</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.49</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<div class="bottomNav"><a id="navbar.bottom">
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PeerCoordinator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
</a>
</nav>
</footer>
</div>
</div>
</body>
</html>
