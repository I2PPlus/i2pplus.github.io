<!DOCTYPE HTML>
<html lang="en">
<head>
<title>DefinitionParser - Javadocs [I2P+ 0.9.50]</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: net.i2p.i2ptunnel.access, class: DefinitionParser">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>

<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>

<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<style type="text/css">.script{display:none!important}</style>

</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<div class="topNav"><a id="navbar.top">
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefinitionParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch script"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<div class="skipNav"><a id="skip.navbar.top">
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">net.i2p.i2ptunnel.access</a></div>
<h1 title="Class DefinitionParser" class="title">Class DefinitionParser</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance">net.i2p.i2ptunnel.access.DefinitionParser</div>
</div>
<section class="description">
<hr>
<pre>class <span class="typeNameLabel">DefinitionParser</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Utility class for parsing filter definitions</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.40</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">DefinitionParser</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div class="script" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>(package private) static <a href="FilterDefinition.html" title="class in net.i2p.i2ptunnel.access">FilterDefinition</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#parse(java.lang.String%5B%5D)">parse</a></span>&#8203;(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]&nbsp;definition)</code></th>
<td class="colLast">
<div class="block">
 Processes an array of String objects containing the human-readable definition of
 the filter.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
</a><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;()">DefinitionParser</a></h3>
<div class="memberSignature"><span class="memberName">DefinitionParser</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="parse(java.lang.String[])">parse</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="FilterDefinition.html" title="class in net.i2p.i2ptunnel.access">FilterDefinition</a></span>&nbsp;<span class="memberName">parse</span>&#8203;(<span class="arguments"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]&nbsp;definition)</span>
                       throws <span class="exceptions"><a href="InvalidDefinitionException.html" title="class in net.i2p.i2ptunnel.access">InvalidDefinitionException</a></span></div>
<div class="block"><p>
 Processes an array of String objects containing the human-readable definition of
 the filter.
 </p>
 <p>
 The definition of a filter is a list of Strings.  Each line can represent one of 
 these items:
 </p>
 <ul>
 <li>definition of a default threshold to apply to any remote destinations not
   listed in this file or any of the referenced files</li>
 <li>definition of a threshold to apply to a specific remote destination</li>
 <li>definition of a threshold to apply to remote destinations listed in a file</li>
 <li>definition of a threshold that if breached will cause the offending remote
   destination to be recorded in a specified file</li>
 </ul>
 <p>
 The order of the definitions matters.  The first threshold for a given destination
 (whether explicit or listed in a file) overrides any future thresholds for the
 same destination, whether explicit or listed in a file.
 </p>
 <p>
 Thresholds:
 </p>
 <p>
 A threshold is defined by the number of connection attempts a remote destination is
 permitted to perform over a specified number of seconds before a "breach" occurs.
 For example the following threshold definition "15/5" means that the same remote
 destination is allowed to make 14 connection attempts over a 5 second period,  If
 it makes one more attempt within the same period, the threshold will be breached.
 </p>
 <p>
 The threshold format can be one of the following:
 </p>
 <ul>
 <li>Numeric definition of number of connections over number seconds - "15/5", 
   "30/60", and so on.  Note that if the number of connections is 1 (as for 
   example in "1/1") the first connection attempt will result in a breach.</li>
 <li>The word "allow".  This threshold is never breached, i.e. infinite number of 
   connection attempts is permitted.</li>
 <li>The word "deny".  This threshold is always breached, i.e. no connection attempts
   will be allowed.</li>
 </ul>

 The default threshold applies to any remote destinations that are not explicitly
 listed in the definition or in any of the referenced files.  To set a default 
 threshold use the keyword "default".  The following are examples of default thresholds:
 
 <pre>
 15/5 default
 allow default
 deny default
 </pre>

 Explicit thresholds are applied to a remote destination listed in the definition itself.
 Examples:
 
 <pre>
 15/5 explicit asdfasdfasdf.b32.i2p
 allow explicit fdsafdsafdsa.b32.i2p
 deny explicit qwerqwerqwer.b32.i2p
 </pre>

 For convenience it is possible to maintain a list of destinations in a file and define
 a threshold for all of them in bulk.  Examples:

 <pre>
 15/5 file /path/throttled_destinations.txt
 deny file /path/forbidden_destinations.txt
 allow file /path/unlimited_destinations.txt
 </pre>

 Recorders keep track of connection attempts made by a remote destination, and if that
 breaches a certain threshold, that destination gets recorded in a given file.  Examples:

 <pre>
 30/5 record /path/aggressive.txt
 60/5 record /path/very_aggressive.txt
 </pre>
 <p>
 It is possible to use a recorder to record aggressive destinations to a given file,
 and then use that same file to throttle them.  For example, the following snippet will
 define a filter that initially allows all connection attempts, but if any single
 destination exceeds 30 attempts per 5 seconds it gets throttled down to 15 attempts per 
 5 seconds:
 </p>
 <pre>
 # by default there are no limits
 allow default
 # but record overly aggressive destinations
 30/5 record /path/throttled.txt
 # and any that end up in that file will get throttled in the future
 15/5 file /path/throttled.txt
 </pre>
 <p>
 It is possible to use a recorder in one tunnel that writes to a file that throttles 
 another tunnel.  It is possible to reuse the same file with destinations in multiple
 tunnels.  And of course, it is possible to edit these files by hand.
 </p>
 <p>
 Here is an example filter definition that applies some throttling by default, no throttling
 for destinations in the file "friends.txt", forbids any connections from destinations
 in the file "enemies.txt" and records any aggressive behavior in a file called
 "suspicious.txt":
 </p>
 <pre>
 15/5 default
 allow file /path/friends.txt
 deny file /path/enemies.txt
 60/5 record /path/suspicious.txt
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a FilterDefinition POJO representation for internal use</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidDefinitionException.html" title="class in net.i2p.i2ptunnel.access">InvalidDefinitionException</a></code> - if the definition is malformed</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<div class="bottomNav"><a id="navbar.bottom">
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefinitionParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
</a>
</nav>
</footer>
</div>
</div>
</body>
</html>
