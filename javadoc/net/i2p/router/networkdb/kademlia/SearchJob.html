<!DOCTYPE HTML>
<html lang="en">
<head>
<title>SearchJob - Javadocs [I2P+ 0.9.50]</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: net.i2p.router.networkdb.kademlia, class: SearchJob">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>

<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>

<script type="text/javascript" src="../../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":9,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<style type="text/css">.script{display:none!important}</style>

</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<div class="topNav"><a id="navbar.top">
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SearchJob.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch script"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<div class="skipNav"><a id="skip.navbar.top">
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">net.i2p.router.networkdb.kademlia</a></div>
<h1 title="Class SearchJob" class="title">Class SearchJob</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance"><a href="../../JobImpl.html" title="class in net.i2p.router">net.i2p.router.JobImpl</a>
<div class="inheritance">net.i2p.router.networkdb.kademlia.SearchJob</div>
</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../Job.html" title="interface in net.i2p.router">Job</a></code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="ExploreJob.html" title="class in net.i2p.router.networkdb.kademlia">ExploreJob</a></code></dd>
</dl>
<hr>
<pre>class <span class="typeNameLabel">SearchJob</span>
extends <a href="../../JobImpl.html" title="class in net.i2p.router">JobImpl</a></pre>
<div class="block">Search for a particular key iteratively until we either find a value or we
 run out of peers

 Note that this is rarely if ever used directly, and is primary used by the ExploreJob extension.
 FloodOnlySearchJob and FloodSearchJob do not extend this.
 It also does not update peer profile stats.</div>
</section>
<section class="summary">
<ul class="blockList">
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="SearchJob.FailedJob.html" title="class in net.i2p.router.networkdb.kademlia">SearchJob.FailedJob</a></span></code></th>
<td class="colLast">
<div class="block">Called when a particular peer failed to respond before the timeout was
 reached, or if the peer could not be contacted at all.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="KademliaNetworkDatabaseFacade.html" title="class in net.i2p.router.networkdb.kademlia">KademliaNetworkDatabaseFacade</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#_facade">_facade</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../util/Log.html" title="class in net.i2p.util">Log</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#_log">_log</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MAX_CLOSEST">MAX_CLOSEST</a></span></code></th>
<td class="colLast">
<div class="block">Only send the 10 closest "don't tell me about" refs</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MIN_TIMEOUT">MIN_TIMEOUT</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#PER_FLOODFILL_PEER_TIMEOUT">PER_FLOODFILL_PEER_TIMEOUT</a></span></code></th>
<td class="colLast">
<div class="block">timeout</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="inheritedList">
<h3>Fields inherited from class&nbsp;net.i2p.router.<a href="../../JobImpl.html" title="class in net.i2p.router">JobImpl</a></h3>
<a id="fields.inherited.from.class.net.i2p.router.JobImpl">
</a><code><a href="../../JobImpl.html#_id">_id</a></code></div>
</section>
</li>
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(net.i2p.router.RouterContext,net.i2p.router.networkdb.kademlia.KademliaNetworkDatabaseFacade,net.i2p.data.Hash,net.i2p.router.Job,net.i2p.router.Job,long,boolean,boolean)">SearchJob</a></span>&#8203;(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;context,
<a href="KademliaNetworkDatabaseFacade.html" title="class in net.i2p.router.networkdb.kademlia">KademliaNetworkDatabaseFacade</a>&nbsp;facade,
<a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;key,
<a href="../../Job.html" title="interface in net.i2p.router">Job</a>&nbsp;onSuccess,
<a href="../../Job.html" title="interface in net.i2p.router">Job</a>&nbsp;onFailure,
long&nbsp;timeoutMs,
boolean&nbsp;keepStats,
boolean&nbsp;isLease)</code></th>
<td class="colLast">
<div class="block">Create a new search for the routingKey specified</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div class="script" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>(package private) boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#add(net.i2p.data.Hash)">add</a></span>&#8203;(<a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;peer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addDeferred(net.i2p.router.Job,net.i2p.router.Job,long,boolean)">addDeferred</a></span>&#8203;(<a href="../../Job.html" title="interface in net.i2p.router">Job</a>&nbsp;onFind,
<a href="../../Job.html" title="interface in net.i2p.router">Job</a>&nbsp;onFail,
long&nbsp;expiration,
boolean&nbsp;isLease)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>protected <a href="../../../data/i2np/I2NPMessage.html" title="interface in net.i2p.data.i2np">I2NPMessage</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildMessage(net.i2p.data.TunnelId,net.i2p.data.Hash,long,net.i2p.data.router.RouterInfo)">buildMessage</a></span>&#8203;(<a href="../../../data/TunnelId.html" title="class in net.i2p.data">TunnelId</a>&nbsp;replyTunnelId,
<a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;replyGateway,
long&nbsp;expiration,
<a href="../../../data/router/RouterInfo.html" title="class in net.i2p.data.router">RouterInfo</a>&nbsp;peer)</code></th>
<td class="colLast">
<div class="block">Build the database search message</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#continueSearch()">continueSearch</a></span>()</code></th>
<td class="colLast">
<div class="block">Send a series of searches to the next available peers as selected by
 the routing table, but making sure no more than SEARCH_BREDTH are outstanding
 at any time</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#decrementOutstandingFloodfillSearches()">decrementOutstandingFloodfillSearches</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fail()">fail</a></span>()</code></th>
<td class="colLast">
<div class="block">Search totally failed</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBredth()">getBredth</a></span>()</code></th>
<td class="colLast">
<div class="block">max # of concurrent searches</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExpiration()">getExpiration</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>protected <a href="KademliaNetworkDatabaseFacade.html" title="class in net.i2p.router.networkdb.kademlia">KademliaNetworkDatabaseFacade</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFacade()">getFacade</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getName()">getName</a></span>()</code></th>
<td class="colLast">
<div class="block">Descriptive name of the task</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPerPeerTimeoutMs()">getPerPeerTimeoutMs</a></span>()</code></th>
<td class="colLast">
<div class="block">Let each peer take up to the average successful search RTT</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPerPeerTimeoutMs(net.i2p.data.Hash)">getPerPeerTimeoutMs</a></span>&#8203;(<a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;peer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>protected <a href="SearchState.html" title="class in net.i2p.router.networkdb.kademlia">SearchState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getState()">getState</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTimeoutMs()">getTimeoutMs</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newPeersFound(int)">newPeersFound</a></span>&#8203;(int&nbsp;numNewPeers)</code></th>
<td class="colLast">
<div class="block">We've gotten a search reply that contained the specified
 number of peers that we didn't know about before.</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>(package private) static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onlyQueryFloodfillPeers(net.i2p.router.RouterContext)">onlyQueryFloodfillPeers</a></span>&#8203;(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">this is now misnamed, as it is only used to determine whether to return floodfill peers only</div>
</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replyFound(net.i2p.data.i2np.DatabaseSearchReplyMessage,net.i2p.data.Hash)">replyFound</a></span>&#8203;(<a href="../../../data/i2np/DatabaseSearchReplyMessage.html" title="class in net.i2p.data.i2np">DatabaseSearchReplyMessage</a>&nbsp;message,
<a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;peer)</code></th>
<td class="colLast">
<div class="block">found a reply</div>
</td>
</tr>
<tr class="rowColor" id="i17">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#runJob()">runJob</a></span>()</code></th>
<td class="colLast">
<div class="block">Actually perform the task.</div>
</td>
</tr>
<tr class="altColor" id="i18">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#searchNext()">searchNext</a></span>()</code></th>
<td class="colLast">
<div class="block">Send the next search, or stop if its completed</div>
</td>
</tr>
<tr class="rowColor" id="i19">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendLeaseSearch(net.i2p.data.router.RouterInfo)">sendLeaseSearch</a></span>&#8203;(<a href="../../../data/router/RouterInfo.html" title="class in net.i2p.data.router">RouterInfo</a>&nbsp;router)</code></th>
<td class="colLast">
<div class="block">we're (probably) searching for a LeaseSet, so to be (overly) cautious, we're sending
 the request out through a tunnel w/ reply back through another tunnel.</div>
</td>
</tr>
<tr class="altColor" id="i20">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendRouterSearch(net.i2p.data.router.RouterInfo)">sendRouterSearch</a></span>&#8203;(<a href="../../../data/router/RouterInfo.html" title="class in net.i2p.data.router">RouterInfo</a>&nbsp;router)</code></th>
<td class="colLast">
<div class="block">we're searching for a router, so we can just send direct</div>
</td>
</tr>
<tr class="rowColor" id="i21">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendSearch(net.i2p.data.router.RouterInfo)">sendSearch</a></span>&#8203;(<a href="../../../data/router/RouterInfo.html" title="class in net.i2p.data.router">RouterInfo</a>&nbsp;router)</code></th>
<td class="colLast">
<div class="block">Send a search to the given peer</div>
</td>
</tr>
<tr class="altColor" id="i22">
<td class="colFirst"><code>(package private) long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#timeoutMs()">timeoutMs</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i23">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toString()">toString</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i24">
<td class="colFirst"><code>(package private) boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#wasAttempted(net.i2p.data.Hash)">wasAttempted</a></span>&#8203;(<a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;peer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;net.i2p.router.<a href="../../JobImpl.html" title="class in net.i2p.router">JobImpl</a></h3>
<a id="methods.inherited.from.class.net.i2p.router.JobImpl">
</a><code><a href="../../JobImpl.html#dropped()">dropped</a>, <a href="../../JobImpl.html#getAddedBy()">getAddedBy</a>, <a href="../../JobImpl.html#getContext()">getContext</a>, <a href="../../JobImpl.html#getJobId()">getJobId</a>, <a href="../../JobImpl.html#getMadeReadyOn()">getMadeReadyOn</a>, <a href="../../JobImpl.html#getTiming()">getTiming</a>, <a href="../../JobImpl.html#madeReady()">madeReady</a>, <a href="../../JobImpl.html#requeue(long)">requeue</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
</a><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="_log">_log</a></h3>
<div class="memberSignature"><span class="modifiers">protected final</span>&nbsp;<span class="returnType"><a href="../../../util/Log.html" title="class in net.i2p.util">Log</a></span>&nbsp;<span class="memberName">_log</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="_facade">_facade</a></h3>
<div class="memberSignature"><span class="modifiers">protected final</span>&nbsp;<span class="returnType"><a href="KademliaNetworkDatabaseFacade.html" title="class in net.i2p.router.networkdb.kademlia">KademliaNetworkDatabaseFacade</a></span>&nbsp;<span class="memberName">_facade</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="MAX_CLOSEST">MAX_CLOSEST</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">MAX_CLOSEST</span></div>
<div class="block">Only send the 10 closest "don't tell me about" refs</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#net.i2p.router.networkdb.kademlia.SearchJob.MAX_CLOSEST">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="PER_FLOODFILL_PEER_TIMEOUT">PER_FLOODFILL_PEER_TIMEOUT</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">PER_FLOODFILL_PEER_TIMEOUT</span></div>
<div class="block">timeout</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#net.i2p.router.networkdb.kademlia.SearchJob.PER_FLOODFILL_PEER_TIMEOUT">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="MIN_TIMEOUT">MIN_TIMEOUT</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">MIN_TIMEOUT</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#net.i2p.router.networkdb.kademlia.SearchJob.MIN_TIMEOUT">Constant Field Values</a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(net.i2p.router.RouterContext,net.i2p.router.networkdb.kademlia.KademliaNetworkDatabaseFacade,net.i2p.data.Hash,net.i2p.router.Job,net.i2p.router.Job,long,boolean,boolean)">SearchJob</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">SearchJob</span>&#8203;(<span class="arguments"><a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;context,
<a href="KademliaNetworkDatabaseFacade.html" title="class in net.i2p.router.networkdb.kademlia">KademliaNetworkDatabaseFacade</a>&nbsp;facade,
<a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;key,
<a href="../../Job.html" title="interface in net.i2p.router">Job</a>&nbsp;onSuccess,
<a href="../../Job.html" title="interface in net.i2p.router">Job</a>&nbsp;onFailure,
long&nbsp;timeoutMs,
boolean&nbsp;keepStats,
boolean&nbsp;isLease)</span></div>
<div class="block">Create a new search for the routingKey specified</div>
</section>
</li>
</ul>
</section>
</li>
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="runJob()">runJob</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">runJob</span>()</div>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../Job.html#runJob()">Job</a></code></span></div>
<div class="block">Actually perform the task.  This call blocks until the Job is complete.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getState()">getState</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType"><a href="SearchState.html" title="class in net.i2p.router.networkdb.kademlia">SearchState</a></span>&nbsp;<span class="memberName">getState</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getFacade()">getFacade</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType"><a href="KademliaNetworkDatabaseFacade.html" title="class in net.i2p.router.networkdb.kademlia">KademliaNetworkDatabaseFacade</a></span>&nbsp;<span class="memberName">getFacade</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getExpiration()">getExpiration</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getExpiration</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getTimeoutMs()">getTimeoutMs</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getTimeoutMs</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="onlyQueryFloodfillPeers(net.i2p.router.RouterContext)">onlyQueryFloodfillPeers</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">onlyQueryFloodfillPeers</span>&#8203;(<span class="arguments"><a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx)</span></div>
<div class="block">this is now misnamed, as it is only used to determine whether to return floodfill peers only</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getPerPeerTimeoutMs(net.i2p.data.Hash)">getPerPeerTimeoutMs</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getPerPeerTimeoutMs</span>&#8203;(<span class="arguments"><a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;peer)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getPerPeerTimeoutMs()">getPerPeerTimeoutMs</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getPerPeerTimeoutMs</span>()</div>
<div class="block">Let each peer take up to the average successful search RTT</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="searchNext()">searchNext</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">searchNext</span>()</div>
<div class="block">Send the next search, or stop if its completed</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getBredth()">getBredth</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getBredth</span>()</div>
<div class="block">max # of concurrent searches</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="continueSearch()">continueSearch</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">continueSearch</span>()</div>
<div class="block">Send a series of searches to the next available peers as selected by
 the routing table, but making sure no more than SEARCH_BREDTH are outstanding
 at any time</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendSearch(net.i2p.data.router.RouterInfo)">sendSearch</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">sendSearch</span>&#8203;(<span class="arguments"><a href="../../../data/router/RouterInfo.html" title="class in net.i2p.data.router">RouterInfo</a>&nbsp;router)</span></div>
<div class="block">Send a search to the given peer</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendLeaseSearch(net.i2p.data.router.RouterInfo)">sendLeaseSearch</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">sendLeaseSearch</span>&#8203;(<span class="arguments"><a href="../../../data/router/RouterInfo.html" title="class in net.i2p.data.router">RouterInfo</a>&nbsp;router)</span></div>
<div class="block">we're (probably) searching for a LeaseSet, so to be (overly) cautious, we're sending
 the request out through a tunnel w/ reply back through another tunnel.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendRouterSearch(net.i2p.data.router.RouterInfo)">sendRouterSearch</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">sendRouterSearch</span>&#8203;(<span class="arguments"><a href="../../../data/router/RouterInfo.html" title="class in net.i2p.data.router">RouterInfo</a>&nbsp;router)</span></div>
<div class="block">we're searching for a router, so we can just send direct</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="buildMessage(net.i2p.data.TunnelId,net.i2p.data.Hash,long,net.i2p.data.router.RouterInfo)">buildMessage</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType"><a href="../../../data/i2np/I2NPMessage.html" title="interface in net.i2p.data.i2np">I2NPMessage</a></span>&nbsp;<span class="memberName">buildMessage</span>&#8203;(<span class="arguments"><a href="../../../data/TunnelId.html" title="class in net.i2p.data">TunnelId</a>&nbsp;replyTunnelId,
<a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;replyGateway,
long&nbsp;expiration,
<a href="../../../data/router/RouterInfo.html" title="class in net.i2p.data.router">RouterInfo</a>&nbsp;peer)</span></div>
<div class="block">Build the database search message</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>replyTunnelId</code> - tunnel to receive replies through</dd>
<dd><code>replyGateway</code> - gateway for the reply tunnel</dd>
<dd><code>expiration</code> - when the search should stop</dd>
<dd><code>peer</code> - unused here; see ExploreJob extension</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a DatabaseLookupMessage</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="replyFound(net.i2p.data.i2np.DatabaseSearchReplyMessage,net.i2p.data.Hash)">replyFound</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">replyFound</span>&#8203;(<span class="arguments"><a href="../../../data/i2np/DatabaseSearchReplyMessage.html" title="class in net.i2p.data.i2np">DatabaseSearchReplyMessage</a>&nbsp;message,
<a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;peer)</span></div>
<div class="block">found a reply</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="newPeersFound(int)">newPeersFound</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">newPeersFound</span>&#8203;(<span class="arguments">int&nbsp;numNewPeers)</span></div>
<div class="block">We've gotten a search reply that contained the specified
 number of peers that we didn't know about before.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="fail()">fail</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">fail</span>()</div>
<div class="block">Search totally failed</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addDeferred(net.i2p.router.Job,net.i2p.router.Job,long,boolean)">addDeferred</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">addDeferred</span>&#8203;(<span class="arguments"><a href="../../Job.html" title="interface in net.i2p.router">Job</a>&nbsp;onFind,
<a href="../../Job.html" title="interface in net.i2p.router">Job</a>&nbsp;onFail,
long&nbsp;expiration,
boolean&nbsp;isLease)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getName()">getName</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></span>&nbsp;<span class="memberName">getName</span>()</div>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../Job.html#getName()">Job</a></code></span></div>
<div class="block">Descriptive name of the task</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="toString()">toString</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></span>&nbsp;<span class="memberName">toString</span>()</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../JobImpl.html#toString()">toString</a></code>&nbsp;in class&nbsp;<code><a href="../../JobImpl.html" title="class in net.i2p.router">JobImpl</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="wasAttempted(net.i2p.data.Hash)">wasAttempted</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">wasAttempted</span>&#8203;(<span class="arguments"><a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;peer)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="timeoutMs()">timeoutMs</a></h3>
<div class="memberSignature"><span class="returnType">long</span>&nbsp;<span class="memberName">timeoutMs</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="add(net.i2p.data.Hash)">add</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">add</span>&#8203;(<span class="arguments"><a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;peer)</span></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if peer was new</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="decrementOutstandingFloodfillSearches()">decrementOutstandingFloodfillSearches</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">decrementOutstandingFloodfillSearches</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<div class="bottomNav"><a id="navbar.bottom">
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SearchJob.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
</a>
</nav>
</footer>
</div>
</div>
</body>
</html>
